<div class="container-fluid bg-info">
	<div class="breadcrumb-wrapper">
		<ol class="breadcrumb bg-info">
			<li><a href="#/">Home</a></li>
			<li><a href="#/module">Modules</a></li>
			<li class="active">{{lesson.breadcrumb.lesson | toTitleCase}}</li>
		</ol>
		<a href="#/module" class="btn btn-primary back-button">Back</a>
	</div>
</div>

<div class="content-main">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-2 col-sm-2 col" ng-hide="lesson.expandEditor">
				<div id="sideNav">
					<h4 ng-click="changeLevel = ! changeLevel">{{lesson.breadcrumb.level | toTitleCase}} <i class="mdi mdi-menu-down"></i></h4>
					<ul ng-show="changeLevel">
						<h5><span class="label label-primary">Select Level</span></h5>
						<li ng-hide="lesson.breadcrumb.level == 'beginner'">
							<a href="#module/{{lesson.breadcrumb.lesson}}/beginner"><i class="mdi mdi-subdirectory-arrow-right"></i>Beginner</a>
						</li>
						<li ng-hide="lesson.breadcrumb.level == 'intermediate'">
							<a href="#module/{{lesson.breadcrumb.lesson}}/intermediate"><i class="mdi mdi-subdirectory-arrow-right"></i>Intermediate</a>
						</li>
						<li ng-hide="lesson.breadcrumb.level == 'advanced'">
							<a href="#module/{{lesson.breadcrumb.lesson}}/advanced"><i class="mdi mdi-subdirectory-arrow-right"></i>Advance</a>
						</li>
					</ul>
					<a href="" ng-repeat="title in lesson.titleList" ng-click="lesson.choiceFunction(title)">
						<i class="mdi mdi-menu-right"></i>{{title | toTitleCase}}
					</a>
				</div>
			</div>
			<div class="col-md-5 col-sm-5 col" ng-hide="lesson.expandEditor">
				<div class="section" ng-show="lesson.chapter">
					<h1>{{lesson.chapter.title}}</h1>
					<chapter-content content="lesson.chapter.content"></chapter-content>
				</div>
			</div>
			<div class="col" ng-class="{'col-md-12 col-sm-12' : lesson.expandEditor, 'col-md-5 col-sm-5' : !lesson.expandEditor}">
				<div ng-class="{'code-editor-col' : lesson.expandEditor}">
					<uib-tabset active="active">
						<uib-tab index="0" heading="HTML" ng-click="">
							<section class="code-editor" ng-model="lesson.code.html" ng-change="lesson.updateHtmlCode(lesson.code.html)" ui-ace="{useWrapMode: true, showGutter: true, mode: 'html'}"></section>
						</uib-tab>
						<uib-tab index="1" heading="Script" ng-click="">
							<section class="code-editor" ng-model="lesson.code.script" ng-change="lesson.updateScriptCode(lesson.code.script)" ui-ace="{useWrapMode: true, showGutter: true, mode: 'javascript'}"></section>
						</uib-tab>
						<uib-tab index="2" heading="Style" ng-click="">
							<section class="code-editor" ng-model="lesson.code.style" ng-change="lesson.updateStyleCode(lesson.code.style)" ui-ace="{useWrapMode: true, showGutter: true, mode: 'css'}"></section>
						</uib-tab>
					</uib-tabset>
				</div>
				<div ng-class="{'code-editor-col' : lesson.expandEditor}">
					<button class="btn btn-success code-buttons" ng-click="lesson.submitCode()">Try It</button>
					<button class="btn btn-warning code-buttons" ng-click="lesson.resetCode()">Reset</button>
					<button class="btn btn-info code-buttons" ng-click="lesson.showExample()">Example</button>
					<button class="btn btn-primary pull-right code-buttons" ng-click="lesson.expandEditor = !lesson.expandEditor">
						<i class="mdi mdi-arrow-expand" ng-show="!lesson.expandEditor"></i>
						<i class="mdi mdi-arrow-compress" ng-show="lesson.expandEditor"></i>
					</button>
					
					<web-sandbox id="iframeWrapper" ws-id="iframeResult" code="lesson.wscode"></web-sandbox>
				</div>
			</div>
		</div>
	</div>
</div>