{"version":3,"sources":["app.js","core/lesson-detail-service.js","core/lesson-list-service.js","core/utility-service.js","core/x2js-service.js","directives/chapter-content-directive.js","directives/content-code-directive.js","directives/prism-directive.js","directives/web-sandbox-directive.js","filters/pagination-start-from-filter.js","filters/space-to-dash-filter.js","filters/to-title-case-filter.js","app/lesson/lesson-controller.js","app/module/module-controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"demo.app.js","sourcesContent":["(function () {\r\n\t'use strict';\r\n\r\n\tangular.module('LearningPlatformApplication', [\r\n\t\t'ngRoute',\r\n\t\t'demo.app.templates',\r\n\t\t'ui.bootstrap',\r\n\t\t'ngPrism',\r\n\t\t'ui.ace'\r\n\t]);\r\n\r\n\tangular\r\n\t\t.module('LearningPlatformApplication')\r\n\t\t.config(['$routeProvider', function ($routeProvider) {\r\n\t\t\t$routeProvider\r\n\t\t\t\t.otherwise({\r\n\t\t\t\t\ttemplate: '<h1>404</h1>'\r\n\t\t\t\t});\r\n\t\t}]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .service('LessonDetailService', ['$http', function ($http) {\r\n            this.getDetails = function (path) {\r\n                return $http.get('../materials/' + path + '/' + path + '.xml');\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .service('LessonListService', ['$http', function ($http) {\r\n            this.getDetails = function () {\r\n                return $http.get('../materials/lessons.xml');\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .service('UtilityService', ['$filter', function ($filter) {\r\n            this.TrimCDataForView = function (code) {\r\n                return code.toString().trim()\r\n                    .replace(/\\s\\s+/g, '\\n')\r\n                    .replace(/\\/tb1/g, '   ')\r\n                    .replace(/\\/tb2/g, '      ')\r\n                    .replace(/\\/tb3/g, '         ')\r\n                    .replace(/\\/tb4/g, '            ');\r\n            };\r\n\r\n            this.GetTitleByLevel = function (scope, chapterList, level) {\r\n                for (var key in chapterList) {\r\n                    if (chapterList[key].level.toLowerCase() === level) {\r\n                        scope.titleList.push(chapterList[key].title);\r\n                    }\r\n                    if (chapterList[key].title === scope.titleList[0]) {\r\n                        scope.chapter = chapterList[key];\r\n                    }\r\n                }\r\n            };\r\n\r\n            this.AddCodeValue = function (scope) {\r\n                scope.code.html = this.TrimCDataForView(scope.chapter.code.htmlcode);\r\n                scope.code.script = this.TrimCDataForView(scope.chapter.code.scriptcode);\r\n                scope.code.style = this.TrimCDataForView(scope.chapter.code.stylecode);\r\n            };\r\n\r\n            this.CopyCodeValue = function (scope) {\r\n                scope.htmlCodeCopy = angular.copy(scope.code.html);\r\n                scope.scriptCodeCopy = angular.copy(scope.code.script);\r\n                scope.styleCodeCopy = angular.copy(scope.code.style);\r\n            };\r\n\r\n            this.GetChapter = function (scope, lesson, chapters) {\r\n                for (var i = 0; i < chapters.length; i++) {\r\n                    if (chapters[i].title === lesson) {\r\n                        scope.chapter = chapters[i];\r\n\r\n                        this.AddCodeValue(scope);\r\n                        this.CopyCodeValue(scope);\r\n                    }\r\n                }\r\n            };\r\n\r\n            this.showHideLesson = function (lesson, list) {\r\n                for (var key in list) {\r\n                    if (lesson != $filter('spaceToDash')(list[key].title)) {\r\n                        list[key].hide = 'hide-lesson';\r\n                    } else {\r\n                        list[key].hide = 'show-lesson';\r\n                    }\r\n                }\r\n            };\r\n\r\n            this.webSandboxCode = function (scope) {\r\n                scope.wscode = {\r\n                    html: scope.code.html,\r\n                    css: scope.code.style,\r\n                    js: scope.code.script,\r\n                    jsDependencies: scope.dependencyLink\r\n                };\r\n            };\r\n\r\n            this.hidePagination = function (scope) {\r\n                if (scope.totalItems <= 10) {\r\n                    scope.hidePagination = true;\r\n                } else {\r\n                    scope.hidePagination = false;\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .service('X2jsService', [function () {\r\n            var x2js = new X2JS();\r\n\r\n            this.xml_str2json = function (str) {\r\n                return x2js.xml_str2json(str);\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .directive('chapterContent', ['$compile', function ($compile) {\r\n            return {\r\n                restrict: 'E',\r\n                replace: true,\r\n                scope: {\r\n                    content: '='\r\n                },\r\n                link: function (scope, element) {\r\n                    scope.$watch('content', function (newValue) {\r\n                        if (newValue !== undefined) {\r\n                            var template = $compile('<div id=\"chapterContent\">' + scope.content + '</div>')(scope);\r\n                            element.empty().append(template);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .directive('contentCode', [function () {\r\n            return {\r\n                restrict: 'A',\r\n                link: function (scope, element) {\r\n                    var contentCode = element.html();\r\n                    element.html(contentCode.trim()\r\n                        .replace(/\\s\\s+/g, '\\n')\r\n                        .replace(/\\/tb1/g, '   ')\r\n                        .replace(/\\/tb2/g, '      ')\r\n                        .replace(/\\/tb3/g, '         ')\r\n                        .replace(/\\/tb4/g, '            ')\r\n                        .replace(/\\/nl/g,'')\r\n                        .replace(/\\/lt/g, '<span><</span>')\r\n                        .replace(/\\/gt/g, '<span>></span>'));\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular.module('ngPrism', []).\r\n        directive('prism', [function () {\r\n            return {\r\n                restrict: 'A',\r\n                link: function ($scope, element) {\r\n                    element.ready(function () {\r\n                        Prism.highlightElement(element[0]);\r\n                    });\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    WebSandbox.$inject = ['$window', '$timeout', 'webSandboxService'];\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .directive('webSandbox', WebSandbox)\r\n        .service('webSandboxService', WebSandboxService);\r\n\r\n    function WebSandbox($window, $timeout, webSandboxService) {\r\n        return {\r\n            restrict: 'E',\r\n            replace: true,\r\n            template: '<div class=\"web-sandbox\"></div>',\r\n            scope: {\r\n                wsId: '@',\r\n                code: '='\r\n            },\r\n            compile: WebSandboxCompileFunction($window, $timeout, webSandboxService)\r\n        };\r\n    }\r\n\r\n    function WebSandboxCompileFunction($window, $timeout, webSandboxService) {\r\n        return function () {\r\n            return function (scope, element) {\r\n                webSandboxService.onCompile(function () {\r\n                    var iframe, iframeWindow;\r\n                    iframe = createNewIframe();\r\n                    element.empty();\r\n                    element.append(iframe);\r\n\r\n                    iframeWindow = iframe.contentWindow || iframe.contentDocument.document || iframe.contentDocument;\r\n\r\n                    $timeout(function () {\r\n                        writeToIframeWindow(iframeWindow);\r\n                    });\r\n                });\r\n\r\n                webSandboxService.onClear(function () {\r\n                    element.empty();\r\n                });\r\n\r\n                function createNewIframe() {\r\n                    var iframe = $window.document.createElement('iframe');\r\n                    iframe.setAttribute('id', scope.wsId);\r\n                    iframe.setAttribute('class', 'web-sandbox-iframe');\r\n                    iframe.setAttribute('frameborder', '0');\r\n                    return iframe;\r\n                }\r\n\r\n                function writeToIframeWindow(iframeWindow) {\r\n                    iframeWindow.document.open();\r\n                    iframeWindow.document.write(scope.code.html);\r\n                    iframeWindow.document.write('<style>' + scope.code.css + '<\\/style>');\r\n\r\n                    angular.forEach(scope.code.jsDependencies, function (value) {\r\n                        iframeWindow.document.write('<script type=\"text/javascript\" src=\"' + value + '\"><\\/script>');\r\n                    });\r\n\r\n                    iframeWindow.document.write('<script type=\"text/javascript\">' + scope.code.js + '<\\/script>');\r\n                    iframeWindow.document.close();\r\n                }\r\n            };\r\n        };\r\n    }\r\n\r\n    function WebSandboxService() {\r\n        var svc = this;\r\n\r\n        var onCompileHandler;\r\n        var onClearHandler;\r\n\r\n        svc.compile = compile;\r\n        svc.clear = clear;\r\n        svc.onCompile = onCompile;\r\n        svc.onClear = onClear;\r\n\r\n        function compile() {\r\n            if (onCompileHandler) {\r\n                onCompileHandler();\r\n            }\r\n        }\r\n\r\n        function onCompile(handler) {\r\n            onCompileHandler = handler;\r\n        }\r\n\r\n        function clear() {\r\n            if (onClearHandler) {\r\n                onClearHandler();\r\n            }\r\n        }\r\n\r\n        function onClear(handler) {\r\n            onClearHandler = handler;\r\n        }\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .filter('startFrom', [function () {\r\n            return function (input, start) {\r\n                if (input) {\r\n                    start = +start;\r\n                    return input.slice(start);\r\n                }\r\n                return [];\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .filter('spaceToDash', [function () {\r\n            return function (input) {\r\n                if (input) {\r\n                    return input.toLowerCase().replace(/\\s+/g, '-');\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .filter('toTitleCase', [function () {\r\n            return function (input) {\r\n                if (input.indexOf(' ') !== -1) {\r\n                    var inputPieces, i;\r\n\r\n                    input = input.toLowerCase();\r\n                    inputPieces = input.split(' ');\r\n\r\n                    for (i = 0; i < inputPieces.length; i++) {\r\n                        inputPieces[i] = capitalizeString(inputPieces[i]);\r\n                    }\r\n\r\n                    return inputPieces.toString().replace(/,/g, ' ');\r\n                }\r\n                else {\r\n                    input = input.toLowerCase();\r\n                    return capitalizeString(input);\r\n                }\r\n\r\n                function capitalizeString(inputString) {\r\n                    return inputString.substring(0, 1).toUpperCase() + inputString.substring(1);\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .config(['$routeProvider', function ($routeProvider) {\r\n            $routeProvider\r\n                .when('/module/:lesson/:level', {\r\n                    templateUrl: 'lesson/lesson.html',\r\n                    controller: 'LessonController',\r\n                    controllerAs: 'lesson'\r\n                });\r\n        }])\r\n        .controller('LessonController', ['$routeParams', 'LessonDetailService', 'X2jsService', 'UtilityService', 'webSandboxService', function ($routeParams, LessonDetailService, X2jsService, UtilityService, webSandboxService) {\r\n            var vm = this;\r\n            var path = $routeParams.lesson;\r\n            var level = $routeParams.level;\r\n            var chapterList = {};\r\n            var dependencyLink = [\r\n                'bower_components/angular/angular.min.js',\r\n                'bower_components/angular-route/angular-route.min.js'\r\n            ];\r\n\r\n            vm.code = {};\r\n            vm.breadcrumb = {};\r\n            vm.titleList = [];\r\n\r\n            vm.breadcrumb.lesson = path;\r\n            vm.breadcrumb.level = level;\r\n\r\n            vm.dependencyLink = dependencyLink;\r\n\r\n            LessonDetailService.getDetails(path)\r\n                .then(function (response) {\r\n                    chapterList = X2jsService.xml_str2json(response.data).lesson.chapter;\r\n\r\n                    UtilityService.GetTitleByLevel(vm, chapterList, level);\r\n                    UtilityService.AddCodeValue(vm);\r\n                    UtilityService.CopyCodeValue(vm);\r\n                    UtilityService.webSandboxCode(vm);\r\n                })\r\n                .catch(function () {\r\n                    vm.chapter = '';\r\n                });\r\n\r\n            vm.submitCode = function () {\r\n                UtilityService.webSandboxCode(vm);\r\n\r\n                webSandboxService.compile();\r\n            };\r\n\r\n            vm.resetCode = function () {\r\n                vm.code.html = vm.htmlCodeCopy;\r\n                vm.code.script = vm.scriptCodeCopy;\r\n                vm.code.style = vm.styleCodeCopy;\r\n\r\n                UtilityService.webSandboxCode(vm);\r\n\r\n                webSandboxService.clear();\r\n            };\r\n\r\n            vm.showExample = function () {\r\n                vm.code.html = UtilityService.TrimCDataForView(vm.chapter.example.htmlcode);\r\n                vm.code.script = UtilityService.TrimCDataForView(vm.chapter.example.scriptcode);\r\n                vm.code.style = UtilityService.TrimCDataForView(vm.chapter.example.stylecode);\r\n\r\n                UtilityService.webSandboxCode(vm);\r\n\r\n                vm.submitCode();\r\n            };\r\n\r\n            vm.choiceFunction = function (lesson) {\r\n                var chapters = chapterList;\r\n\r\n                UtilityService.GetChapter(vm, lesson, chapters);\r\n\r\n                webSandboxService.clear();\r\n            };\r\n\r\n            vm.updateHtmlCode = function (data) {\r\n                vm.code.html = data;\r\n            };\r\n\r\n            vm.updateScriptCode = function (data) {\r\n                vm.code.script = data;\r\n            };\r\n\r\n            vm.updateStyleCode = function (data) {\r\n                vm.code.style = data;\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .config(['$routeProvider', function ($routeProvider) {\r\n            $routeProvider\r\n                .when('/', {\r\n                    templateUrl: 'module/module.html',\r\n                    controller: 'ModuleController',\r\n                    controllerAs: 'module'\r\n                })\r\n                .when('/module', {\r\n                    templateUrl: 'module/module.html',\r\n                    controller: 'ModuleController',\r\n                    controllerAs: 'module'\r\n                });\r\n        }])\r\n        .controller('ModuleController', ['LessonListService', 'X2jsService', 'UtilityService', 'filterFilter', function (LessonListService, X2jsService, UtilityService, filterFilter) {\r\n            var vm = this;\r\n\r\n            vm.topicList = [];\r\n            vm.showHideClass = {};\r\n            vm.moduleFilter = {};\r\n            vm.totalItems = 0;\r\n\r\n            vm.currentPage = 1;\r\n            vm.itemsPerPage = 10;\r\n\r\n            LessonListService.getDetails()\r\n                .then(function (response) {\r\n                    var lessons = X2jsService.xml_str2json(response.data).lesson.topic;\r\n\r\n                    if (lessons.length === undefined) {\r\n                        vm.topicList.push(lessons);\r\n                    } else {\r\n                        for (var key in lessons) {\r\n                            vm.topicList.push(lessons[key]);\r\n                        }\r\n                    }\r\n\r\n                    vm.totalItems = vm.topicList.length;\r\n\r\n                    UtilityService.hidePagination(vm);\r\n                });\r\n\r\n            vm.selectLesson = function (lesson) {\r\n                vm.lesson = lesson;\r\n                vm.showHideClass.levelLinks = 'show';\r\n                vm.showHideClass.levelBackButton = 'show';\r\n                vm.showHideClass.moduleFilter = 'hide';\r\n                vm.hidePagination = true;\r\n\r\n                UtilityService.showHideLesson(lesson, vm.topicList);\r\n            };\r\n\r\n            vm.backToModules = function () {\r\n                vm.lesson = '';\r\n                vm.showHideClass = {};\r\n                vm.hidePagination = false;\r\n\r\n                for (var key in vm.topicList) {\r\n                    vm.topicList[key].hide = '';\r\n                }\r\n            };\r\n\r\n            vm.updateSearch = function () {\r\n                vm.filtered = filterFilter(vm.topicList, { title: vm.moduleFilter.title });\r\n                vm.totalItems = vm.filtered.length;\r\n\r\n                UtilityService.hidePagination(vm);\r\n            };\r\n        }]);\r\n})();"],"sourceRoot":"/source/"}