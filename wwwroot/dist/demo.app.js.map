{"version":3,"sources":["app.js","core/lesson-detail-service.js","core/lesson-list-service.js","core/x2js-service.js","directives/chapter-content-directive.js","directives/content-code-directive.js","directives/content-directive.js","directives/lesson-link-directive.js","directives/repeat-link-directive.js","filters/capitalize-filter.js","filters/spaceless-filter.js","app/lesson/lesson-controller.js","app/main/main-controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"demo.app.js","sourcesContent":["(function () {\r\n\t'use strict';\r\n\r\n\tangular.module('LearningPlatformApplication', ['ngRoute', 'demo.app.templates', 'ui.bootstrap']);\r\n\r\n\tangular\r\n        .module('LearningPlatformApplication')\r\n\t\t.config(['$routeProvider', function ($routeProvider) {\r\n\t\t\t$routeProvider\r\n\t\t\t\t.when('/', {\r\n\t\t\t\t\ttemplateUrl: 'main/main.html',\r\n\t\t\t\t\tcontroller: 'MainController'\r\n\t\t\t\t})\r\n\t\t\t\t.when('/lesson/:lesson', {\r\n\t\t\t\t\ttemplateUrl: 'lesson/lesson.html',\r\n\t\t\t\t\tcontroller: 'LessonController'\r\n\t\t\t\t})\r\n\t\t\t\t.otherwise({\r\n\t\t\t\t\ttemplate: '<h1>404</h1>'\r\n\t\t\t\t});\r\n\t\t}]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .service('LessonDetailService', ['$http', function ($http) {\r\n            this.getDetails = function (path) {\r\n                return $http.get('../materials/' + path + '/' + path + '.xml');\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .service('LessonListService', ['$http', function ($http) {\r\n            this.getDetails = function () {\r\n                return $http.get('../materials/lessons.xml');\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .service('X2jsService', [function () {\r\n            var x2js = new X2JS();\r\n\r\n            this.xml_str2json = function (str) {\r\n                return x2js.xml_str2json(str);\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .directive('chapterContent', ['$compile', function ($compile) {\r\n            return {\r\n                restrict: 'E',\r\n                replace: true,\r\n                scope: {\r\n                    content: '='\r\n                },\r\n                link: function (scope, element) {\r\n                    scope.$watch('content', function (newValue) {\r\n                        if (newValue !== undefined) {\r\n                            var template = $compile('<div id=\"chapterContent\">' + scope.content + '</div>')(scope);\r\n                            element.empty().append(template);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .directive('contentCode', [function () {\r\n            return {\r\n                restrict: 'E',\r\n                replace: true,\r\n                link: function (scope, element) {\r\n                    var contentCode = element.html();\r\n                    element.html(contentCode.trim()\r\n                        .replace(/\\s\\s+/g, '\\n')\r\n                        .replace(/\\/tb/g, '   ')\r\n                        .replace(/\\/n/g,'')\r\n                        .replace(/\\/lt/g, '<span><</span>')\r\n                        .replace(/\\/gt/g, '<span>></span>'));\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .directive('content', [function () {\r\n            return {\r\n                restrict: 'E',\r\n                replace: true,\r\n                scope: {\r\n                    object: '='\r\n                },\r\n                template: '<div class=\"section\"><h4>{{object.title}}</h4><chapter-content content=\"object.content\"></chapter-content></div>'\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .directive('lessons', [function () {\r\n            return {\r\n                restrict: 'E',\r\n                replace: true,\r\n                scope: {\r\n                    list: '='\r\n                },\r\n                template: '<a href=\"#lesson/{{lessons.title | spaceless}}\" ng-repeat=\"lessons in list\"><div class=\"lesson-div bg-primary\"><i class=\"mdi mdi-{{lessons.icon}} mdi-48px\"></i><h1>{{lessons.title}}</h1></div></a>'\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .directive('repeatLink', [function () {\r\n            return {\r\n                restrict: 'E',\r\n                replace: true,\r\n                scope: {\r\n                    list: '='\r\n                },\r\n                template: '<a href=\"\" ng-repeat=\"lesson in list\" ng-click=\"choiceFunction(lesson)\">{{lesson | capitalize}}</a>'\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .filter('capitalize', [function () {\r\n            return function (input) {\r\n                if (input.indexOf(' ') !== -1) {\r\n                    var inputPieces, i;\r\n\r\n                    input = input.toLowerCase();\r\n                    inputPieces = input.split(' ');\r\n\r\n                    for (i = 0; i < inputPieces.length; i++) {\r\n                        inputPieces[i] = capitalizeString(inputPieces[i]);\r\n                    }\r\n\r\n                    return inputPieces.toString().replace(/,/g, ' ');\r\n                }\r\n                else {\r\n                    input = input.toLowerCase();\r\n                    return capitalizeString(input);\r\n                }\r\n\r\n                function capitalizeString(inputString) {\r\n                    return inputString.substring(0, 1).toUpperCase() + inputString.substring(1);\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .filter('spaceless', [function () {\r\n            return function (input) {\r\n                if (input) {\r\n                    return input.toLowerCase().replace(/\\s+/g, '-');\r\n                }\r\n            };\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .controller('LessonController', ['$scope', '$routeParams', 'LessonDetailService', 'X2jsService', function ($scope, $routeParams, LessonDetailService, X2jsService) {\r\n            var path = $routeParams.lesson;\r\n            var chapterList = {};\r\n            var dependencyLink = [\r\n                'bower_components/angular/angular.min.js',\r\n                'bower_components/angular-route/angular-route.min.js'\r\n            ];\r\n\r\n            $scope.htmlCode = {};\r\n            $scope.scriptCode = {};\r\n            $scope.styleCode = {};\r\n\r\n            $scope.breadcrumbLesson = path;\r\n\r\n            LessonDetailService.getDetails(path)\r\n                .then(function (response) {\r\n                    chapterList = X2jsService.xml_str2json(response.data).lesson.chapter;\r\n                    $scope.chapter = chapterList[0];\r\n\r\n                    $scope.titleListBeginner = [];\r\n                    $scope.titleListIntermediate = [];\r\n                    $scope.titleListAdvance = [];\r\n\r\n                    for (var key in chapterList) {\r\n                        switch (chapterList[key].level) {\r\n                            case 'Beginner':\r\n                                $scope.titleListBeginner.push(chapterList[key].title);\r\n                                break;\r\n                            case 'Intermediate':\r\n                                $scope.titleListIntermediate.push(chapterList[key].title);\r\n                                break;\r\n                            case 'Advance':\r\n                                $scope.titleListAdvance.push(chapterList[key].title);\r\n                                break;\r\n                        }\r\n                    }\r\n\r\n                    $scope.htmlCode.text = parseCode($scope.chapter.code.htmlcode);\r\n                    $scope.scriptCode.text = parseCode($scope.chapter.code.scriptcode);\r\n                    $scope.styleCode.text = parseCode($scope.chapter.code.stylecode);\r\n\r\n                    $scope.htmlCodeCopy = angular.copy($scope.htmlCode.text);\r\n                    $scope.scriptCodeCopy = angular.copy($scope.scriptCode.text);\r\n                    $scope.styleCodeCopy = angular.copy($scope.styleCode.text);\r\n                })\r\n                .catch(function () {\r\n                    $scope.chapter = '';\r\n                });\r\n\r\n            $scope.submitCode = function () {\r\n                var text = $scope.htmlCode.text;\r\n                var scriptText = $scope.scriptCode.text;\r\n                var styleText = $scope.styleCode.text;\r\n\r\n                var ifr = document.createElement('iframe');\r\n\r\n                ifr.setAttribute('name', 'frame1');\r\n                ifr.setAttribute('frameborder', '0');\r\n                ifr.setAttribute('id', 'iframeResult');\r\n                document.getElementById('iframeWrapper').innerHTML = '';\r\n                document.getElementById('iframeWrapper').appendChild(ifr);\r\n\r\n                var ifrw = (ifr.contentWindow) ? ifr.contentWindow : (ifr.contentDocument.document) ? ifr.contentDocument.document : ifr.contentDocument;\r\n\r\n                ifrw.document.open();\r\n                ifrw.document.write(text);\r\n                ifrw.document.write('<style>' + styleText + '<\\/style>');\r\n\r\n                angular.forEach(dependencyLink, function (value) {\r\n                    ifrw.document.write('<script type=\"text/javascript\" src=\"' + value + '\"><\\/scr' + 'ipt>');\r\n                });\r\n\r\n                ifrw.document.write('<script type=\"text/javascript\">' + scriptText + '<\\/scr' + 'ipt>');\r\n                ifrw.document.close();\r\n            };\r\n\r\n            $scope.resetCode = function () {\r\n                $scope.htmlCode.text = $scope.htmlCodeCopy;\r\n                $scope.scriptCode.text = $scope.scriptCodeCopy;\r\n                $scope.styleCode.text = $scope.styleCodeCopy;\r\n                document.getElementById('iframeWrapper').innerHTML = '';\r\n            };\r\n\r\n            $scope.showExample = function () {\r\n                $scope.htmlCode.text = parseCode($scope.chapter.example.htmlcode);\r\n                $scope.scriptCode.text = parseCode($scope.chapter.example.scriptcode);\r\n                $scope.styleCode.text = parseCode($scope.chapter.example.stylecode);\r\n\r\n                $scope.submitCode();\r\n            };\r\n\r\n            $scope.choiceFunction = function (lesson) {\r\n                var chapters = chapterList;\r\n\r\n                for (var i = 0; i < chapters.length; i++) {\r\n                    if (chapters[i].title == lesson) {\r\n                        $scope.chapter = chapters[i];\r\n\r\n                        $scope.htmlCode.text = parseCode($scope.chapter.code.htmlcode);\r\n                        $scope.scriptCode.text = parseCode($scope.chapter.code.scriptcode);\r\n                        $scope.styleCode.text = parseCode($scope.chapter.code.stylecode);\r\n\r\n                        $scope.htmlCodeCopy = angular.copy($scope.htmlCode.text);\r\n                        $scope.scriptCodeCopy = angular.copy($scope.scriptCode.text);\r\n                        $scope.styleCodeCopy = angular.copy($scope.styleCode.text);\r\n\r\n                        document.getElementById('iframeWrapper').innerHTML = '';\r\n                    }\r\n                }\r\n            };\r\n\r\n            $scope.updateHtmlCode = function (data) {\r\n                $scope.htmlCode.text = data;\r\n            };\r\n\r\n            $scope.updateScriptCode = function (data) {\r\n                $scope.scriptCode.text = data;\r\n            };\r\n\r\n            $scope.updateStyleCode = function (data) {\r\n                $scope.styleCode.text = data;\r\n            };\r\n\r\n            function parseCode(code) {\r\n                return code.toString().trim().replace(/\\s\\s+/g, '\\n').replace(/\\/tb/g, '   ');\r\n            }\r\n        }]);\r\n})();","(function () {\r\n    'use strict';\r\n    \r\n    angular\r\n        .module('LearningPlatformApplication')\r\n        .controller('MainController', ['$scope', 'LessonListService', 'X2jsService', function ($scope, LessonListService, X2jsService) {\r\n            $scope.topicList = [];\r\n            \r\n            LessonListService.getDetails()\r\n                .then(function (response) {\r\n                    $scope.lessons = X2jsService.xml_str2json(response.data).lesson.topic;\r\n                    \r\n                    for (var key in $scope.lessons) {\r\n                        $scope.topicList.push($scope.lessons[key]);\r\n                    }\r\n                });\r\n        }]);\r\n})();"],"sourceRoot":"/source/"}